<?xml version="1.0" encoding="utf-8"?>
<html lang="en" madcap:sourcedocument="D:\Documentation\ProjectRevamp\MadCapFlare\PythonScripts\AIT Files\Workgroup Edition Implementation and Administration\Database and Log Sizing.html" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Database and Log Sizing</title>
        <link href="..\..\Resources\StyleSheets\stylesheet.css" rel="stylesheet" type="text/css" />
        <link href="..\..\Resources\StyleSheets\docsstylesheet.css" rel="stylesheet" type="text/css" />
        <meta content="&lt;authorit:componentcd&gt;" name="componentcd" />
        <meta content="3449" name="objectid" />
        <meta content="260" name="basedOnKey" />
        <!--metadata variables for XMD: translatable-->
        <meta content="" name="description" />
        <meta content="&lt;authorit:ca_keywords&gt;" name="keywords" />
        <meta content="&lt;authorit:ca_content_type&gt;" name="ca_content_type" />
        <meta content="&lt;authorit:ca_context&gt;" name="ca_context" />
        <meta content="&lt;authorit:ca_role&gt;" name="ca_role" />
        <meta content="en-US" name="ca_language" />
        <!--metadata variables for XMD: do not translate-->
        <meta content="&lt;authorit:ca_offering_name&gt;" name="ca_offering_name" />
        <meta content="&lt;authorit:ca_product_version&gt;" name="ca_product_version" />
        <meta content="&lt;authorit:ca_product_family&gt;" name="ca_product_family" />
        <meta content="&lt;authorit:ca_alias_name&gt;" name="ca_alias_name" />
        <meta content="&lt;authorit:ca_related_offering&gt;" name="ca_related_offering" />
        <meta content="&lt;authorit:ca_access_level&gt;" name="ca_access_level" />
        <meta content="8/22/2018T14:20-5:00" name="ca_date_time" />
        <meta content="(supervisor)" name="ca_creator" />
        <meta content="&lt;authorit:ca_source&gt;" name="ca_source" />
        <meta content="HTML" name="ca_format" />
        <meta content="&lt;authorit:ca_database&gt;" name="ca_database" />
        <meta content="&lt;authorit:ca_application_server&gt;" name="ca_application_server" />
        <meta content="&lt;authorit:ca_operating_system&gt;" name="ca_operating_system" />
        <meta content="&lt;authorit:ca_star_code&gt;" name="ca_star_code" />
        <meta content="&lt;authorit:ca_cms_id&gt;" name="ca_cms_id" />
        <script language="javascript" type="text/javascript">
        </script> <script language="javascript" type="text/javascript"></script> <script language="javascript" src="../../Resources/mailerwin.js" type="text/javascript"></script> <script language="javascript" type="text/javascript"></script></head>
    <body onload="loadParent();highlightx();if (isTOCLoaded()) {expand2('3439');highlight('3449')}">
        <p class="bodytext">
            <MadCap:concept term="Installation" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" />
        </p>
        <h2 class="heading2" id="t3449">Database and Log Sizing</h2>
        <p class="bodytext">Since the database is a dynamic environment, allow plenty of space for the models you create. Tests have shown that models generate between 10 KB and 20 KB of data per entity during initial save times. Log overhead per object is approximately 15 KB to 21 KB per entity. Allocate 50 to 65 percent of the database size to the log to avoid running out of room in the log for a typical model save.</p>
        <p class="bodytext">An average mart can range in size between 200 MB and 1 Gig. Size the transaction log accordingly. A 50 MB data device can store several large models (about 2,500 entities and 100,000 total objects), but keep in mind that the database becomes more flexible and has less storage space issues when the data device is large.</p>
        <p class="bodytext">The following table shows the recommended database size and log size for small, medium, and large marts:</p>
        <p class="beforetable">
        </p>
        <table border="0" cellpadding="2" cellspacing="0" class="tableintopic" style="border-collapse: collapse;" width="480">
            <tr align="left" valign="top">
                <th style="border-top: 2px solid #010101;border-bottom: 2px solid #010101;" width="160">
                    <p class="tableheading">Database Size</p>
                </th>
                <th style="border-top: 2px solid #010101;border-bottom: 2px solid #010101;" width="160">
                    <p class="tableheading">Database Device</p>
                </th>
                <th style="border-top: 2px solid #010101;border-bottom: 2px solid #010101;" width="160">
                    <p class="tableheading">Transaction Log Device</p>
                </th>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="160">
                    <p class="tablebodytext">Small</p>
                </td>
                <td width="160">
                    <p class="tablebodytext">200 MB</p>
                </td>
                <td width="160">
                    <p class="tablebodytext">100 MB</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-top: 1px solid #010101;border-bottom: 1px solid #010101;" width="160">
                    <p class="tablebodytext">Medium</p>
                </td>
                <td style="border-top: 1px solid #010101;border-bottom: 1px solid #010101;" width="160">
                    <p class="tablebodytext">500 MB</p>
                </td>
                <td style="border-top: 1px solid #010101;border-bottom: 1px solid #010101;" width="160">
                    <p class="tablebodytext">200 MB</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-top: 1px solid #010101;border-bottom: 1px solid #010101;" width="160">
                    <p class="tablebodytext">Large</p>
                </td>
                <td style="border-top: 1px solid #010101;border-bottom: 1px solid #010101;" width="160">
                    <p class="tablebodytext">1 GB</p>
                </td>
                <td style="border-top: 1px solid #010101;border-bottom: 1px solid #010101;" width="160">
                    <p class="tablebodytext">400 MB</p>
                </td>
            </tr>
        </table>
        <p class="bodytext">
        </p><a name="o3450"></a>
        <h2 class="heading2" id="t3450">How to Maintain an Efficient Database</h2>
        <p class="bodytext">To maintain an efficient database, perform the following maintenance tasks:</p>
        <ul class="listbullet">
            <li class="listbullet">Run UPDATE STATISTICS and execute sp_recompile frequently on every table in the database. This keeps the statistics up-to-date for the indexes, resulting in better overall performance. 
</li>
            <li class="listbullet">Periodically recreate the clustered indexes in the database to reduce fragmentation. Be sure to back up the database and transaction log daily.
</li>
            <li class="listbullet">Run DBCC CheckDB(), DBCC CheckCatalog(), and DBCC CheckAlloc() or DBCC NewAlloc() on the database nightly, to check for corruption and inconsistencies in the database. Check the output of these queries and look for keywords like corrupt. Any problems detected by these commands are sent to the query output, so save the files and scan them regularly.
</li>
        </ul>
        <p class="bodytext">The following table shows maintenance tasks and the recommended frequency for performing these tasks:</p>
        <p class="beforetable">
        </p>
        <table border="0" cellpadding="2" cellspacing="0" class="tableintopic" style="border-collapse: collapse;" width="468">
            <tr align="left" valign="top">
                <th style="border-top: 2px solid #010101;border-bottom: 2px solid #010101;" width="114">
                    <p class="tableheading">Maintenance Task</p>
                </th>
                <th style="border-top: 2px solid #010101;border-bottom: 2px solid #010101;" width="132">
                    <p class="tableheading">Recommended Frequency</p>
                </th>
                <th style="border-top: 2px solid #010101;border-bottom: 2px solid #010101;" width="222">
                    <p class="tableheading">Reason</p>
                </th>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="114">
                    <p class="tablebodytext">DBCC Checkdb</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="132">
                    <p class="tablebodytext">Nightly</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="222">
                    <p class="tablebodytext">Check for corruption in databases.</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="114">
                    <p class="tablebodytext">DBCC NewAlloc</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="132">
                    <p class="tablebodytext">Weekly</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="222">
                    <p class="tablebodytext">Check for allocation corruption (Microsoft SQL Server only).</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="114">
                    <p class="tablebodytext">DBCC CheckAlloc</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="132">
                    <p class="tablebodytext">Weekly</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="222">
                    <p class="tablebodytext">Check for allocation corruption (Microsoft SQL Server only).</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="114">
                    <p class="tablebodytext">DBCC CheckCatalog</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="132">
                    <p class="tablebodytext">Weekly</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="222">
                    <p class="tablebodytext">Check for system table inconsistencies.</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="114">
                    <p class="tablebodytext">UPDATE STATISTICS</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="132">
                    <p class="tablebodytext">Nightly</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="222">
                    <p class="tablebodytext">Recreates the statistics page for each index.</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="114">
                    <p class="tablebodytext">EXEC sp_recompile</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="132">
                    <p class="tablebodytext">Nightly</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="222">
                    <p class="tablebodytext">Tells which stored procedures have changed.</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="114">
                    <p class="tablebodytext">Backup Database</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="132">
                    <p class="tablebodytext">Weekly</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="222">
                    <p class="tablebodytext">Full backup of database should be done at least weekly, if not nightly.</p>
                </td>
            </tr>
            <tr align="left" valign="top">
                <td style="border-bottom: 1px solid #010101;" width="114">
                    <p class="tablebodytext">Backup Transaction Log</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="132">
                    <p class="tablebodytext">Daily</p>
                </td>
                <td style="border-bottom: 1px solid #010101;" width="222">
                    <p class="tablebodytext">Backing up the transaction log daily saves all committed transactions and clears the log.</p>
                </td>
            </tr>
        </table>
        <p class="bodytext">
        </p>
        <p>
        </p>
    </body>
</html>