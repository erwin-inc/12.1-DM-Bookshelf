<?xml version="1.0" encoding="utf-8"?>
<html lang="en" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Define Db2 Stored z/OS Procedures</title>
        <link href="..\..\Resources\StyleSheets\stylesheet.css" rel="stylesheet" type="text/css" />
        <link href="..\..\Resources\StyleSheets\docsstylesheet.css" rel="stylesheet" type="text/css" />
        <meta content="&lt;authorit:componentcd&gt;" name="componentcd" />
        <meta content="2992" name="objectid" />
        <meta content="305" name="basedOnKey" />
        <!--metadata variables for XMD: translatable-->
        <meta content="" name="description" />
        <meta content="&lt;authorit:ca_keywords&gt;" name="keywords" />
        <meta content="&lt;authorit:ca_content_type&gt;" name="ca_content_type" />
        <meta content="&lt;authorit:ca_context&gt;" name="ca_context" />
        <meta content="&lt;authorit:ca_role&gt;" name="ca_role" />
        <meta content="en-US" name="ca_language" />
        <!--metadata variables for XMD: do not translate-->
        <meta content="&lt;authorit:ca_offering_name&gt;" name="ca_offering_name" />
        <meta content="&lt;authorit:ca_product_version&gt;" name="ca_product_version" />
        <meta content="&lt;authorit:ca_product_family&gt;" name="ca_product_family" />
        <meta content="&lt;authorit:ca_alias_name&gt;" name="ca_alias_name" />
        <meta content="&lt;authorit:ca_related_offering&gt;" name="ca_related_offering" />
        <meta content="&lt;authorit:ca_access_level&gt;" name="ca_access_level" />
        <meta content="7/23/2018T13:56-5:00" name="ca_date_time" />
        <meta content="(supervisor)" name="ca_creator" />
        <meta content="&lt;authorit:ca_source&gt;" name="ca_source" />
        <meta content="HTML" name="ca_format" />
        <meta content="&lt;authorit:ca_database&gt;" name="ca_database" />
        <meta content="&lt;authorit:ca_application_server&gt;" name="ca_application_server" />
        <meta content="&lt;authorit:ca_operating_system&gt;" name="ca_operating_system" />
        <meta content="&lt;authorit:ca_star_code&gt;" name="ca_star_code" />
        <meta content="&lt;authorit:ca_cms_id&gt;" name="ca_cms_id" />
        <script language="javascript" type="text/javascript">
        </script> <script language="javascript" type="text/javascript"></script> <script language="javascript" src="../../Resources/mailerwin.js" type="text/javascript"></script> <script language="javascript" type="text/javascript"></script></head>
    <body onload="loadParent();highlightx();if (isTOCLoaded()) {expand2('3175');expand2('3179');expand2('3181');expand2('3067');highlight('2992')}">
        <p class="bodytext">
            <MadCap:concept term="User Guides" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" />
        </p>
        <h5 class="heading5" id="t2992">Define Db2 z/OS Stored Procedures</h5>
        <p class="bodytext">Use the Db2 Stored Procedures editor to add, change, view, or delete a Db2 stored procedure for the model. As you define parameters, the Code tab of the editor is populated with SQL code, which you can review and edit.</p>
        <p class="proceduresubheading">To define a Db2 z/OS stored procedure</p>
        <ol class="listnumber">
            <li class="listnumber">Right-click a <span class="uielement">Stored Procedure</span> in the <span class="uielement">Model Explorer</span> and select <span class="uielement">Properties</span>.
<p class="listcontinue">The Db2 Stored Procedure Editor opens.</p></li>
            <li class="listnumber">Select a stored procedure and work with the following options:
<p class="noteAlt">Click <span class="uielement">New</span> <img align="bottom" alt="New icon in property editors to create a new object" border="0" height="12" hspace="0" id="f1017" src="..\..\Resources\Images\1022.gif" vspace="0" width="13" /> on the toolbar to create a stored procedure. Use the <em class="italic">Enter filter text</em> text box to filter a large list of names to locate the one you want to work with.</p><dl><dt>Name</dt><dd><p class="normaltermcontinued2">Specifies the name of the stored procedure.</p></dd><dt>Schema</dt><dd><p class="normaltermcontinued2">Specifies the default schema for the stored procedure.</p></dd><dt>Type</dt><dd><p class="normaltermcontinued2">Specifies whether the stored procedure is Model Level or Table Level. Make a selection from the drop-down list.</p></dd><dt>Procedure Type</dt><dd><p class="normaltermcontinued2">Indicates the procedure type: SQL Native, SQL External, or External. Make a selection from the drop-down list. Your choice affects the options displayed on the General tab below.</p></dd><dt>Attach to New</dt><dd><p class="normaltermcontinued2">Specifies to attach the selected stored procedure to each new table that you create. Clear the check box if you want to manually attach the stored procedure to new tables.</p></dd><dt>Generate</dt><dd><p class="normaltermcontinued2">Generates DDL for this object during Forward Engineering.</p></dd></dl></li>
            <li class="listnumber">Work with the following options on the <span class="uielement">Parameter</span> tab (applies to all procedure types):
<dl><dt>Parameter </dt><dd><p class="normaltermcontinued2">Specifies the name of the parameter. Enter a name that is unique to the model.</p></dd><dt>Type </dt><dd><p class="normaltermcontinued2">Specifies the type of the parameter. The type can be Input, Output, or Input Output.</p></dd><dt>Physical Data Type </dt><dd><p class="normaltermcontinued2">Specifies the data type for the parameter. </p></dd><dt>As Locator </dt><dd><p class="normaltermcontinued2">For a SQL External type of procedure, specifies whether the parameter is a transition table. For SQL Native and External types of procedures, specifies that a locator to the value of the parameter is passed to the procedure instead of the actual value.</p></dd><dt>Character Type </dt><dd><p class="normaltermcontinued2">Specifies the sub-type of the specified Character data type. You can select from For Bit Data, For Mixed Data, For Single Byte Char Set.</p></dd><dt>CCSID </dt><dd><p class="normaltermcontinued2">Specifies the encoding scheme of the parameter, for character and graphic data types. You can select ASCII, EBCDIC, or UNICODE.</p></dd></dl></li>
            <li class="listnumber">Work with the following options on the <span class="uielement">General</span> tab (applies to all procedure types):
<p class="list2"><strong>For Db2 z/OS:</strong></p><dl><dt>Dynamic Result Sets</dt><dd><p class="normaltermcontinued2">Specifies the maximum number of query result sets that the stored procedure can return. Default: 0</p></dd><dt>Language</dt><dd><p class="normaltermcontinued2">Specifies the application programming language in which the stored procedure is written. Valid values: Assemble, C, Cobol, Java, PLI, REXX, SQL.</p></dd><dt>SQL Data Access</dt><dd><p class="normaltermcontinued2">Specifies the classification of SQL statements that the procedure can execute. Valid values: Modifies SQL Data, Reads SQL Data, Contains SQL, No SQL.</p></dd><dt>Is Deterministic</dt><dd><p class="normaltermcontinued2">Indicates that the stored procedures always returns the same results each time it is called with the same IN and INOUT arguments. Clear the check box to set the parameter to <em class="italic">NOT DETERMINISTIC</em>.</p></dd><dt>Use CPU Service Time Limit</dt><dd><p class="normaltermcontinued2">Indicates to use the CPU service unit limit. Enter an integer in the field below.</p></dd><dt>CPU Service Time Limit</dt><dd><p class="normaltermcontinued2">Specifies the service time limit.</p></dd><dt>Commit Transaction On Return</dt><dd><p class="normaltermcontinued2">Indicates that Db2 commits the transaction immediately on return from the stored procedure. Default: <em class="italic">NO</em> (check box is cleared).</p></dd><dt>Special Register Usage</dt><dd><p class="normaltermcontinued2">Specifies how special registers are set on entry to the routine. Select a value from the drop-down list: Inherit (Special Registers), Default (Special Registers).</p></dd><dt>Null Input</dt><dd><p class="normaltermcontinued2">Specifies that the procedure is to be called even if any or all argument values are null. Select Called from the drop-down list, or leave the value empty.</p></dd><dt>CCSId</dt><dd><p class="normaltermcontinued2">Indicates the encoding scheme for string parameters. Select a value from the drop-down list: ASCII, EBCDIC, or UNICODE.</p><p class="list2"><strong>For Db2 z/OS SQL Native procedures, the following additional options appear:</strong></p></dd><dt>Qualifier Schema</dt><dd><p class="normaltermcontinued2">Specifies the schema to be used as the implicit qualifier. Select a schema name from the drop-down list.</p></dd><dt>Package Owner</dt><dd><p class="normaltermcontinued2">Specifies the owner of the package. Select a name from the drop-down list.</p></dd><dt>Is Prepare Deferred</dt><dd><p class="normaltermcontinued2">Indicates that the DEFER PREPARE parameter is set. Clear the check box to indicate <em class="italic">NODEFER PREPARE</em>.</p></dd><dt>Use Data Currency</dt><dd><p class="normaltermcontinued2">Specifies that data currency is required for read-only and ambiguous cursors. Clear the check box to set the parameter to <em class="italic">CURRENTDATA NO</em>.</p></dd><dt>Is Parallel Processing Allowed</dt><dd><p class="normaltermcontinued2">Specifies whether or not to run a query using parallel processing for optimum performance. Clear the check box to indicate <em class="italic">NO</em>.</p><p class="list2"><strong>For Db2 z/OS External procedures, the following additional options appear:</strong></p></dd><dt>Parameter Style</dt><dd><p class="normaltermcontinued2">Identifies the linkage convention used to pass parameters to and return values from the stored procedure. Select a value from the drop-down list: SQL, General, General with null, Java.</p></dd><dt>Parameter Varchar Form</dt><dd><p class="normaltermcontinued2">Specifies, for varying length character parameters, the value representation. Select a value from the drop-down list: Null Terminated or Structured.</p></dd><dt>Use Package Path</dt><dd><p class="normaltermcontinued2">Indicates to use the package path entered in the following field.</p></dd><dt>Package Path</dt><dd><p class="normaltermcontinued2">Indicates the package path.</p></dd></dl></li>
            <li class="listnumber">When you work with an <em class="italic">External</em> or <em class="italic">SQL Native</em> procedure type, you can work with the following options on the <span class="uielement">Other Options</span> tab:
<dl><dt>Is Fenced</dt><dd><p class="normaltermcontinued2">Specifies that the stored procedure runs in an external address space to prevent user programs from corrupting Db2 storage.</p></dd><dt>Use DB Info</dt><dd><p class="normaltermcontinued2">Specifies whether or not status information known by Db2 is passed to the stored procedure when it is invoked. Clear the check box to indicate <em class="italic">NO DBINFO</em>.</p></dd><dt>Use Package Collection</dt><dd><p class="normaltermcontinued2">Indicates to use the package collection id indicated in the next field.</p></dd><dt>Package Collection Id</dt><dd><p class="normaltermcontinued2">Identifies the package collection to be used when the stored procedure is executed. Enter the collection id in the text box.</p></dd><dt>Remain Resident In Memory</dt><dd><p class="normaltermcontinued2">Indicates that the load module remains resident in memory after the stored procedure ends. Clear the check box to indicate <em class="italic">STAY RESIDENT NO</em>.</p></dd><dt>Program Type</dt><dd><p class="normaltermcontinued2">Specifies how the stored procedure runs. Select a value from the drop-down list: Subroutine or Main Routine.</p></dd><dt>External Security Type</dt><dd><p class="normaltermcontinued2">Specifies how the stored procedure interacts with an external security product. Select a value from the drop-down list: Db2, User, Definer.</p></dd><dt>Failure Stop Type</dt><dd><p class="normaltermcontinued2">Specifies how to put the routine in a stopped state after the indicated number of failures. Select a value from the drop-down list: System Default, Specific Number, Continue (After Failure).</p></dd><dt>Failure Limit</dt><dd><p class="normaltermcontinued2">Indicates the failure limit to work with the above Failure Stop Type option. Enter an integer in the text box.</p></dd><dt>Runtime Options</dt><dd><p class="normaltermcontinued2">Specifies any Language Environment run-time options, as a string.</p></dd><dt>Workload Manager Environment</dt><dd><p class="normaltermcontinued2">Identifies the workload manager (WLM) environment. Enter the WLM name in the text box.</p></dd><dt>Use Calling Procedure Workload Manager Environment</dt><dd><p class="normaltermcontinued2">Indicates to use the WLM calling procedure. Clear the check box to not specify a <em class="italic">WLM ENVIRONMENT</em>.</p></dd><dt>Debug Mode</dt><dd><p class="normaltermcontinued2">Specifies the debug mode. Select an option from the drop-down menu: Disallow, Allow, or Diaable.</p></dd></dl></li>
            <li class="listnumber">When you work with a <em class="italic">SQL Native</em> procedure type, you can work with the following options on the <span class="uielement">SQL Native Options</span> tab:
<dl><dt>Decimal Arithmetic Precision</dt><dd><p class="normaltermcontinued2">Specifies a value for the maximum precision to be used for decimal arithmetic operations. Enter an value in the text box.</p></dd><dt>Cursor For Update Clause Mode</dt><dd><p class="normaltermcontinued2">Specifies the For Update Clause option. Select a value from the drop-down list: Required, or Optional.</p></dd><dt>Time Format</dt><dd><p class="normaltermcontinued2">Specifies the time format for result values that are string representations of date or time values. Select a value from the drop-down list: ISO, European, USA, Japanese, or Local.</p></dd><dt>SQL Path Type</dt><dd><p class="normaltermcontinued2">Specifies the SQL path type for the stored procedure. Select a value from the drop-down list: Default, Schema, Schema List, Session User.</p></dd><dt>SQL Path Schemas</dt><dd><p class="normaltermcontinued2">Specifies the SQL Path Schemas. Select from the list of displayed schemas.</p></dd></dl></li>
            <li class="listnumber">When you work with the <em class="italic">External</em> procedure type, you can work with the following options on the <span class="uielement">External Name</span> tab:
<dl><dt>External Name</dt><dd><p class="normaltermcontinued2">Identifies the user-written code that implements the stored procedure.</p></dd><dt>File</dt><dd><p class="normaltermcontinued2">Indicates the file to reference for the external name.</p></dd><dt>Class Name</dt><dd><p class="normaltermcontinued2">Identifes the class name. Enter a value in the text box.</p></dd><dt>Method Name</dt><dd><p class="normaltermcontinued2">Identifies the name of the method. Enter a value in the text box.</p></dd><dt>Package Ids</dt><dd><p class="normaltermcontinued2">Identifies the package names that the class identifier is part of. Use features on the toolbar near the Package Ids box to add, delete, and reorder the Package Ids.</p></dd><dt>Method Data Types</dt><dd><p class="normaltermcontinued2">Indicates the Method Data Types for the stored procedure. Use features on the toolbar near the Method DataTypex box to add, delete, and reorder the Method Data Types.</p></dd></dl></li>
            <li class="listnumber">Work with the other tabs in the editor to access additional design features, for example:
<ul class="listbullet2"><li class="listbullet2">Edit the SQL code for the selected stored procedure on the <a class="z--jumptemplate" href="Define_the_Code_to_a_Stored_Procedure_Function_or_Trigger.html" id="h1811" target="_self" title="Define the Code to a Stored Procedure, Function, or Trigger">Code</a> tab
</li><li class="listbullet2">View expanded code (read-only) on the <a class="z--jumptemplate" href="expanded_tab_options.html" id="h1814" target="_self" title="Expanded Tab">Expanded</a> tab
</li><li class="listbullet2">Work with parameters for the selected stored procedure on the Parameter tab
</li><li class="listbullet2">Change the object creation order on the <a class="z--jumptemplate" href="object_creation_order_tab_options.html" id="h1812" target="_self" title="Object Creation Order Tab">Object Creation Order</a> tab
</li><li class="listbullet2">Associate permissions with the selected stored procedure on the <span class="uielement"><a class="z--jumptemplate" href="Define_DB2_zOS_Permissions_DB_Level.html" id="h2752" target="_self" title="Define DB2 z/OS Permissions at Database Level">Permission</a></span> tab
</li><li class="listbullet2">Review where the stored procedure is used on the <a class="z--jumptemplate" href="View_the_Where_Used_Information_for_a_Physical_Object.html" id="h1043" target="_self" title="View the Where Used Information for a Physical Object">Where Used</a> tab.
</li></ul></li>
            <li class="listnumber">(Optional) Click the <span class="uielement">Comment </span>tab and enter any comments that you want to associate with the object.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement">UDP </span>tab to work with user-defined properties for the object.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement">Notes </span>tab to view and edit user notes.
</li>
            <li class="listnumber">Click <span class="uielement">Close</span>.
<p class="listcontinue">The Db2 z/OS Stored Procedure Editor closes.</p></li>
        </ol>
        <p class="relatedheading">More Information</p>
        <p class="relateditem"><a href="View_Expanded_Code_in_a_Property_Editor.html" target="_self">View Expanded Code in a Property Editor</a>
        </p>
        <p class="relateditem"><a href="Change_the_Object_Creation_Order_in_a_Property_Editor.html" target="_self">Change the Object Creation Order in a Property Editor</a>
        </p>
        <p>
        </p>
    </body>
</html>