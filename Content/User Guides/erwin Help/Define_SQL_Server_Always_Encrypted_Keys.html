<?xml version="1.0" encoding="utf-8"?>
<html lang="en" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Define SQL Server Always Encrypted Keys</title>
        <link href="..\..\Resources\StyleSheets\stylesheet.css" rel="stylesheet" type="text/css" />
        <link href="..\..\Resources\StyleSheets\docsstylesheet.css" rel="stylesheet" type="text/css" />
        <meta content="&lt;authorit:componentcd&gt;" name="componentcd" />
        <meta content="7871" name="objectid" />
        <meta content="305" name="basedOnKey" />
        <!--metadata variables for XMD: translatable-->
        <meta content="" name="description" />
        <meta content="&lt;authorit:ca_keywords&gt;" name="keywords" />
        <meta content="&lt;authorit:ca_content_type&gt;" name="ca_content_type" />
        <meta content="&lt;authorit:ca_context&gt;" name="ca_context" />
        <meta content="&lt;authorit:ca_role&gt;" name="ca_role" />
        <meta content="en-US" name="ca_language" />
        <!--metadata variables for XMD: do not translate-->
        <meta content="&lt;authorit:ca_offering_name&gt;" name="ca_offering_name" />
        <meta content="&lt;authorit:ca_product_version&gt;" name="ca_product_version" />
        <meta content="&lt;authorit:ca_product_family&gt;" name="ca_product_family" />
        <meta content="&lt;authorit:ca_alias_name&gt;" name="ca_alias_name" />
        <meta content="&lt;authorit:ca_related_offering&gt;" name="ca_related_offering" />
        <meta content="&lt;authorit:ca_access_level&gt;" name="ca_access_level" />
        <meta content="7/23/2018T13:56-5:00" name="ca_date_time" />
        <meta content="(supervisor)" name="ca_creator" />
        <meta content="&lt;authorit:ca_source&gt;" name="ca_source" />
        <meta content="HTML" name="ca_format" />
        <meta content="&lt;authorit:ca_database&gt;" name="ca_database" />
        <meta content="&lt;authorit:ca_application_server&gt;" name="ca_application_server" />
        <meta content="&lt;authorit:ca_operating_system&gt;" name="ca_operating_system" />
        <meta content="&lt;authorit:ca_star_code&gt;" name="ca_star_code" />
        <meta content="&lt;authorit:ca_cms_id&gt;" name="ca_cms_id" />
        <script language="javascript" type="text/javascript">
        </script> <script language="javascript" type="text/javascript"></script> <script language="javascript" src="../../Resources/mailerwin.js" type="text/javascript"></script> <script language="javascript" type="text/javascript"></script></head>
    <body onload="loadParent();highlightx();if (isTOCLoaded()) {expand2('3175');expand2('3179');expand2('3181');expand2('7790');expand2('7793');highlight('7871')}">
        <p class="bodytext">
            <MadCap:concept term="User Guides" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" />
        </p>
        <h6 class="heading6" id="t7871">Define SQL Server Always Encrypted Keys</h6>
        <p class="bodytext">Use the SQL Server Always Encrypted Key Editor in a SQL Server physical model to configure encryption for individual database columns containing your sensitive data. Use this editor to specify the information about the encryption algorithm and cryptographic keys used to protect the data in the column. Always Encrypted uses two types of keys, column encryption keys and column master keys. A column encryption key is used to encrypt data in an encrypted column. A column master key is a key-protecting key that encrypts one or more column encryption keys.</p>
        <p class="bodytext">
        </p>
        <p class="proceduresubheading">To define an always encrypted key in SQL Server</p>
        <ol class="listnumber">
            <li class="listnumber">In the Model Explorer, right-click Always Encrypted Keys and click New.
<p class="listcontinue">An instance of Always Encrypted Key is created.</p></li>
            <li class="listnumber">Right-click the instance and click Properties.
<p class="listcontinue">The SQL Server Always Encrypted Key Editor opens.</p></li>
            <li class="listnumber">Select the always encrypted key in the Navigation Grid that you want to define and work with the following options:
<p class="noteAlt">Click New <img align="bottom" alt="New icon in property editors to create a new object" border="0" height="12" hspace="0" id="f1017" src="..\..\Resources\Images\1022.gif" vspace="0" width="13" /> on the toolbar to create a new always encrypted key. Use the <em class="italic">Enter filter text</em> box to filter a very large list of always encrypted keys to quickly locate the one that you want to define.</p><dl><dt>Name</dt><dd><p class="normaltermcontinued2">Displays the always encrypted key name. You can change the name in this field.</p></dd><dt>Type</dt><dd><p class="normaltermcontinued2">Specifies the type of the key. Select a data type from the drop-down list.</p><dl><dt>MASTER</dt><dd><p class="normaltermcontinued3">Indicates that the key is the protecting key that encrypts one or more column encryption keys</p></dd><dt>ENCRYPTION</dt><dd><p class="normaltermcontinued3">Indicates that the key is a column encryption key</p></dd></dl></dd></dl><p class="listcontinue">Depending on the key type that you select, the options on the General tab differ.</p></li>
            <li class="listnumber">Click the General tab and work with the following options:
<dl><dt>Type: MASTER</dt><dd><dl><dt>Key Store Provider</dt><dd><p class="normaltermcontinued3">Specifies the name of a key store provider, which is a client-side software component that encapsulates a key store containing the column master key.</p></dd><dt>Customer Provider</dt><dd><p class="normaltermcontinued3">Enabled if you select CUSTOMER_PROVIDER in Key Store Provider. Specifies the custom key store provider.</p></dd><dt>Key Path</dt><dd><p class="normaltermcontinued3">The path of the key in the column master key store, either a Current User or Local Machine, or ProviderName/KeyIdentifier pair. For more information, refer to SQL Server documentation.</p></dd></dl></dd><dt>Type: ENCRYPTION</dt><dd><p class="normaltermcontinued2">Click New <img align="bottom" alt="New icon in property editors to create a new object" border="0" height="12" hspace="0" id="f1017_1" src="..\..\Resources\Images\1022.gif" vspace="0" width="13" /> on the toolbar to create an instance of encrypted key options and work with the following options:</p><dl><dt>Column Master Key</dt><dd><p class="normaltermcontinued3">Specifies the name of the custom column master key used for encrypting the column encryption key.</p></dd><dt>Algorithm</dt><dd><p class="normaltermcontinued3">Specifies the name of the encryption algorithm used to encrypt the value of the column encryption key.</p></dd><dt>Encrypted Value</dt><dd><p class="normaltermcontinued3">Specifies the encrypted CEK value BLOB.</p></dd></dl></dd></dl></li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="Add_a_Comment_in_a_Property_Editor.html" id="h1041" target="_self" title="Add a Comment in a Property Editor">Comment</a> </span>tab and enter any comments that you want to associate with the object.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="View_the_Where_Used_Information_for_a_Physical_Object.html" id="h1043" target="_self" title="View the Where Used Information for a Physical Object">Where Used</a></span> tab to view where the object is used within the model.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="Add_a_User-Defined_Property_to_a_Physical_Object.html" id="h1046" target="_self" title="Add a User-Defined Property to a Physical Object">UDP</a></span><span class="uielement"></span>tab to work with user-defined properties for the object. 
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="Notes_tab.html" id="h1049" target="_self" title="The Notes Tab">Notes</a></span><span class="uielement"></span>tab to view and edit user notes.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="extended_notes.html" id="h1052" target="_self" title="The Extended Notes Tab">Extended Notes</a></span> tab to view or edit user notes.
</li>
            <li class="listnumber">Click Close.
<p class="listcontinue">The always encrypted key is defined and the SQL Server Always Encrypted Key Editor closes.</p></li>
        </ol>
        <p class="bodytext">For more information, refer to SQL Server documentation.</p>
        <p class="bodytext">
        </p>
        <p>
        </p>
    </body>
</html>