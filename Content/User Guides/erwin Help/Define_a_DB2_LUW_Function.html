<?xml version="1.0" encoding="utf-8"?>
<html lang="en" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Define a Db2 LUW Function</title>
        <link href="..\..\Resources\StyleSheets\stylesheet.css" rel="stylesheet" type="text/css" />
        <link href="..\..\Resources\StyleSheets\docsstylesheet.css" rel="stylesheet" type="text/css" />
        <meta content="&lt;authorit:componentcd&gt;" name="componentcd" />
        <meta content="2940" name="objectid" />
        <meta content="260" name="basedOnKey" />
        <!--metadata variables for XMD: translatable-->
        <meta content="" name="description" />
        <meta content="&lt;authorit:ca_keywords&gt;" name="keywords" />
        <meta content="&lt;authorit:ca_content_type&gt;" name="ca_content_type" />
        <meta content="&lt;authorit:ca_context&gt;" name="ca_context" />
        <meta content="&lt;authorit:ca_role&gt;" name="ca_role" />
        <meta content="en-US" name="ca_language" />
        <!--metadata variables for XMD: do not translate-->
        <meta content="&lt;authorit:ca_offering_name&gt;" name="ca_offering_name" />
        <meta content="&lt;authorit:ca_product_version&gt;" name="ca_product_version" />
        <meta content="&lt;authorit:ca_product_family&gt;" name="ca_product_family" />
        <meta content="&lt;authorit:ca_alias_name&gt;" name="ca_alias_name" />
        <meta content="&lt;authorit:ca_related_offering&gt;" name="ca_related_offering" />
        <meta content="&lt;authorit:ca_access_level&gt;" name="ca_access_level" />
        <meta content="7/23/2018T13:56-5:00" name="ca_date_time" />
        <meta content="(supervisor)" name="ca_creator" />
        <meta content="&lt;authorit:ca_source&gt;" name="ca_source" />
        <meta content="HTML" name="ca_format" />
        <meta content="&lt;authorit:ca_database&gt;" name="ca_database" />
        <meta content="&lt;authorit:ca_application_server&gt;" name="ca_application_server" />
        <meta content="&lt;authorit:ca_operating_system&gt;" name="ca_operating_system" />
        <meta content="&lt;authorit:ca_star_code&gt;" name="ca_star_code" />
        <meta content="&lt;authorit:ca_cms_id&gt;" name="ca_cms_id" />
        <script language="javascript" type="text/javascript">
        </script> <script language="javascript" type="text/javascript"></script> <script language="javascript" src="../../Resources/mailerwin.js" type="text/javascript"></script> <script language="javascript" type="text/javascript"></script></head>
    <body onload="loadParent();highlightx();if (isTOCLoaded()) {expand2('3175');expand2('3179');expand2('3181');expand2('3072');highlight('2940')}">
        <p class="bodytext">
            <MadCap:concept term="User Guides" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" />
        </p>
        <h5 class="heading5" id="t2940">Define a Db2 LUW Function</h5>
        <p class="bodytext">You can use the Function editor to create and maintain the user-defined functions in a Db2 physical model.</p>
        <p class="proceduresubheading">To define a Db2 function</p>
        <ol class="listnumber">
            <li class="listnumber">Right-click a <span class="uielement">Function</span> in the <span class="uielement">Model Explorer</span> and select <span class="uielement">Properties</span>.
<p class="listcontinue">The Function Editor opens.</p></li>
            <li class="listnumber">Select a function and work with the following options:
<p class="noteAlt">Click <span class="uielement">New</span> <img align="bottom" alt="New icon in property editors to create a new object" border="0" height="12" hspace="0" id="f1017" src="..\..\Resources\Images\1022.gif" vspace="0" width="13" /> on the toolbar to create a function. Use the <em class="italic">Enter filter text</em> text box to filter a large list of functions to locate the one you want to work with.</p><dl><dt>Name</dt><dd><p class="normaltermcontinued2">Specifies the name of the function.</p></dd><dt>Schema</dt><dd><p class="normaltermcontinued2">Specifies the schema to associate with the function. Select a schema name from the drop-down list.</p></dd><dt>Type</dt><dd><p class="normaltermcontinued2">Specifies if the function is at the Model Level or Table Level. Select a type from the drop-down list.</p></dd><dt>Function Type</dt><dd><p class="normaltermcontinued2">Specifies the type of function. Select a value from the drop-down list: SQL Scalar, SQL Table, SQL Row, External Scalar, External Table, or Sourced.</p></dd><dt>Generate As Pre-Script</dt><dd><p class="normaltermcontinued2">Specifies the location of the function with respect to the table definition in the Forward Engineering script. Select from the drop-down list; valid values are Post-Creation and Pre-Creation. </p><p class="normaltermcontinued2">For example, if you select Post-Creation, the function appears after the table definition.</p></dd><dt>Use Replace Syntax</dt><dd><p class="normaltermcontinued2">Specifies whether or not to use the CREATE or REPLACE command instead of the CREATE command during Forward Engineering.</p><p class="noteAlt">This field applies to Db2 for LUW version 9.7 only.</p></dd><dt>Attach To New</dt><dd><p class="normaltermcontinued2">Specifies whether or not you want to attach this function automatically to a new table. </p></dd><dt>Generate</dt><dd><p class="normaltermcontinued2">Specifies whether or not to generate DDL for this object during Forward Engineering.</p></dd></dl></li>
            <li class="listnumber">Click the <span class="uielement">Parameters</span> tab and work with the following options:
<dl><dt>Parameter</dt><dd><p class="normaltermcontinued2">Specifies the input parameters of the function. Specify one entry for each parameter that the function receives.</p></dd><dt>Physical Data Type</dt><dd><p class="normaltermcontinued2">Specifies the physical data type of the parameter.</p></dd><dt>Character Data Type</dt><dd><p class="normaltermcontinued2">Specifies whether the data type is for binary data.</p></dd><dt>Anchored to Type</dt><dd><p class="normaltermcontinued2">Specifies another object that is used to define a parameter data type.</p></dd><dt>Global Variable</dt><dd><p class="normaltermcontinued2">Specifies the name of the global variable that is anchored to the selected parameter. This field appears when you select the value for Anchored to Type as Variable or Cursor Variable.</p></dd><dt>Abstract Entity</dt><dd><p class="normaltermcontinued2">Specifies the abstract entity for a column. This field appears when you select the value for Anchored to Type as Column or Table, or View Row. </p></dd><dt>Column</dt><dd><p class="normaltermcontinued2">Specifies the name of the column anchored to the selected parameter. This field appears when you select the value for Anchored to Type as Column. </p></dd></dl></li>
            <li class="listnumber">Complete the following fields on the <span class="uielement">General</span> tab:
<dl><dt>Specific Name</dt><dd><p class="normaltermcontinued2">Specifies a unique name for the instance of the function that is being defined. This name can be used when sourcing on this function, dropping the function, or commenting on the function. However, this name cannot be used to invoke the function.</p><p class="list2"><strong>Return Options:</strong></p></dd><dt>Return Data Type</dt><dd><p class="listnote2">Specifies the data type for the value returned by the function. Select a data type from the drop-down list.</p></dd><dt>Return Character Type</dt><dd><p class="normaltermcontinued2">Specifies the character type that is returned. Select from the drop-down list; valid values are For Bit Data.</p></dd><dt>Return Data Type Anchored To Type</dt><dd><p class="normaltermcontinued2">Specifies the data type to which the return data type is anchored to.</p></dd><dt>Global Variable</dt><dd><p class="normaltermcontinued2">Specifies the name of the global variable that is anchored to the selected parameter. This field appears when you select the value for Return Data Type Anchored to Type as Variable or Cursor Variable.</p></dd><dt>Abstract Entity</dt><dd><p class="normaltermcontinued2">Specifies the abstract entity for a column. This field appears when you select the value for Return Data Type Anchored to Type as Column or Table Row. </p></dd><dt>Column</dt><dd><p class="normaltermcontinued2">Specifies the name of the column anchored to the selected parameter. This field appears when you select the value for Return Data Type Anchored to Type as Column. </p></dd><dt>Return Table Definition</dt><dd><p class="normaltermcontinued2">Specifies the name of the external table, when the type is set to External Table. Select a table name from the drop-down list.</p></dd><dt>Return Cast Data Type</dt><dd><p class="normaltermcontinued2">Specifies the data type to which the result returned from the function is casted. This option appears when the type is set to External Scalar.</p></dd><dt>Return Cast Character Type</dt><dd><p class="normaltermcontinued2">Specifies the character type of the casted data type returned by the function. This option displays when the type is set to External Scalar.</p></dd></dl></li>
            <li class="listnumber">Click the <span class="uielement">Options</span> tab and work with the following parameters:
<dl><dt>Language</dt><dd><p class="normaltermcontinued2">Specifies the language in which the function is written. Select from the drop-down list. Valid values are: C, Java, OLE, OLE DB, CLR, and SQL.</p></dd><dt>Coded Character Set Identifier</dt><dd><p class="normaltermcontinued2">Specifies the coded character set identifier. Select from the drop-down list. Valid values are ASCII and UNICODE.</p></dd><dt>Is Deterministic</dt><dd><p class="normaltermcontinued2">Specifies whether the function always returns the same results for given argument values. </p></dd><dt>Is External Action Allowed</dt><dd><p class="normaltermcontinued2">Specifies whether or not the function can change the state of an object that the database manager does not manage.</p></dd><dt>SQL Data Access</dt><dd><p class="normaltermcontinued2">Specifies the type of SQL statements that can be executed. Select a value from the drop-down list. Valid values are: Modifies SQL Data, Reads SQL Data, and Contains SQL Data.</p></dd><dt>Use Static Dispatch</dt><dd><p class="normaltermcontinued2">Specifies whether or not at function resolution time, Db2 chooses a function based on the static types (declared types) of the parameters of the function.</p></dd><dt>Null Input</dt><dd><p class="normaltermcontinued2">Specifies that the function is called regardless of whether any of its arguments are null. The function can return a null value or a non-null value. Select a value from the drop-down list; valid values are Called and Returns Null.</p></dd><dt>Special Register Usage</dt><dd><p class="normaltermcontinued2">Specifies how special registers are set on entry to the routine. Select a value from the drop-down list: Inherit.</p></dd><dt>Is Lock Allowed with Isolation</dt><dd><p class="normaltermcontinued2">Specifies whether or not a lock request can be associated with the isolation-clause of the statement when the function inherits the isolation level of the statement that invokes the function.</p></dd><dt>Parameter Style</dt><dd><p class="normaltermcontinued2">Specifies the conventions used for passing parameters to and returning the value from functions. Select a value from the drop-down list. Valid values are Db2 General, Java, SQL, and Db2 SQL.</p></dd><dt>Is Fenced</dt><dd><p class="normaltermcontinued2">Specifies that the function runs in an external address space to prevent user programs from corrupting Db2 storage.</p></dd><dt>Is Thread Safe</dt><dd><p class="normaltermcontinued2">Specifies whether the function is considered safe to run in the same process as other routines.</p></dd><dt>Use Scratch Pad</dt><dd><p class="normaltermcontinued2">Indicates that when the function is invoked for the first time, Db2 allocates memory for a scratchpad. </p></dd><dt>Scratch Pad Length</dt><dd><p class="normaltermcontinued2">When using the Scratch Pad option, indicates the SCRATCHPAD length.</p></dd><dt>Make Final Call</dt><dd><p class="normaltermcontinued2">Specifies whether a final call is made to an external function. This option enables the external function to free any system resources it is using.</p></dd><dt>Is Parallel Processing Allowed</dt><dd><p class="normaltermcontinued2">Specifies that parallel processing is allowed. </p></dd><dt>Use DB Info</dt><dd><p class="normaltermcontinued2">Specifies whether or not status information known by Db2 is passed to the stored procedure when it is invoked. </p></dd><dt>Cardinality Value</dt><dd><p class="normaltermcontinued2">Specifies an estimate of the expected number of rows that the function returns. Enter an integer in the text box.</p></dd><dt>Source Function</dt><dd><p class="normaltermcontinued2">Specifies the name of the function or function template.</p></dd><dt>Source Specific Function Name</dt><dd><p class="normaltermcontinued2">Specifies the specific name of the sourced function.</p></dd><dt>Source Specific Schema</dt><dd><p class="normaltermcontinued2">Specifies the schema for the sourced function. Select a schema name from the drop-down list.</p></dd></dl></li>
            <li class="listnumber">When you work with the <em class="italic">External</em> function type, work with the following options on the <span class="uielement">External Name</span> tab:
<dl><dt>External Name</dt><dd><p class="normaltermcontinued2">Identifies the user-written code that implements the function.</p></dd><dt>File</dt><dd><p class="normaltermcontinued2">Specifies the file name of the file containing the function. Select from the drop-down list or create a file using the Db2 for LUW File Editor.</p></dd><dt>Class Name</dt><dd><p class="normaltermcontinued2">Specifies the class identifier, which the database manager invokes to execute the user-defined function being created.</p></dd><dt>Method Name</dt><dd><p class="normaltermcontinued2">Specifies the method identifier, which the database manager invokes to execute the user-defined function being created.</p></dd></dl></li>
            <li class="listnumber">Click the <span class="uielement">Predicate</span> tab and work with the following options:
<dl><dt>Predicate Context Operator</dt><dd><p class="normaltermcontinued2">Specifies the operator used compare the use of the function in the predicate. The operator can be ″=″, ″&lt;″, ″&gt;″, ″&gt;=″, ″&lt;=″, or ″&lt;&gt;″.</p></dd><dt>Predicate Specification Type</dt><dd><p class="normaltermcontinued2">Specifies whether the function is being compared with a constant or an expression.</p></dd><dt>Predicate Context Expression</dt><dd><p class="normaltermcontinued2">Specifies the expression name, which can be used as a search function argument.</p></dd><dt>Predicate Data Filter</dt><dd><p class="normaltermcontinued2">Specifies an external function or a case expression, which can be used for additional filtering of the result table.</p></dd><dt>Predicate Use Index Extension Exact Lookup</dt><dd><p class="normaltermcontinued2">Indicates that the index lookup is exact in terms of the predicate evaluation. Using EXACT means that neither the original user-defined predicate function nor the filter is applied after the index lookup.</p></dd><dt>Predicate Index Extension</dt><dd><p class="normaltermcontinued2">Specifies the index extension that you want to use with the predicate. Select from the drop-down list or create an extension using the Db2 for LUW Index Extension Editor.</p></dd></dl></li>
            <li class="listnumber">Click the <span class="uielement">Predicate Exploitation Rules</span> tab and work with the following options:
<dl><dt>Name</dt><dd><p class="normaltermcontinued2">Specifies a set of rules in terms of the search method of an index extension that can be used to exploit the index.</p></dd><dt>Method Name</dt><dd><p class="normaltermcontinued2">Specifies which search method to use from those defined in the index extension. You can select from the list or create a method using the Db2 for LUW Index Extension Exploitation Rule Editor.</p></dd></dl></li>
            <li class="listnumber">Click the <a class="z--jumptemplate" href="Define_the_Code_to_a_Stored_Procedure_Function_or_Trigger.html" id="h1811" target="_self" title="Define the Code to a Stored Procedure, Function, or Trigger">Code</a> tab to review or assign code (including macros) to your function. 
</li>
            <li class="listnumber">Click the <a class="z--jumptemplate" href="expanded_tab_options.html" id="h1814" target="_self" title="Expanded Tab">Expanded</a> tab to display fully expanded code that may be shown as code fragments or partial routines on other tabs.
</li>
            <li class="listnumber">Click the <a class="z--jumptemplate" href="Define_Permissions_for_an_Object_in_a_SQL_Server_Property_Editor.html" id="h1035" target="_self" title="Define Permissions for an Object in a SQL Server Property Editor">Permission</a> tab and grant permissions to users or roles on the selected function.
</li>
            <li class="listnumber">Click the <a class="z--jumptemplate" href="object_creation_order_tab_options.html" id="h1812" target="_self" title="Object Creation Order Tab">Object Creation Order</a> tab and change the order in which you want to create the functions.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="Add_a_Comment_in_a_Property_Editor.html" id="h1041" target="_self" title="Add a Comment in a Property Editor">Comment</a></span><span class="uielement"></span>tab and enter any comments that you want to associate with the object.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="View_the_Where_Used_Information_for_a_Physical_Object.html" id="h1043" target="_self" title="View the Where Used Information for a Physical Object">Where Used</a></span> tab to view where the object is used within the model.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="Add_a_User-Defined_Property_to_a_Physical_Object.html" id="h1046" target="_self" title="Add a User-Defined Property to a Physical Object">UDP</a></span><span class="uielement"></span>tab to work with user-defined properties for the object. 
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="Notes_tab.html" id="h1049" target="_self" title="The Notes Tab">Notes</a></span><span class="uielement"></span>tab to view and edit user notes.
</li>
            <li class="listnumber">(Optional) Click the <span class="uielement"><a class="z--jumptemplate" href="extended_notes.html" id="h1052" target="_self" title="The Extended Notes Tab">Extended Notes</a></span> tab to view or edit user notes.
</li>
            <li class="listnumber">Click <span class="uielement">Close</span>.
<p class="listcontinue">The Db2 for LUW Function Editor closes.</p></li>
        </ol>
        <p>
        </p>
    </body>
</html>